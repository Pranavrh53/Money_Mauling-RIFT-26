<div align="center">

```
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘
â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
 â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•
```

# ğŸ’¸ Graphora â€” Graph-Based Financial Crime Detection

### *Unmasking the invisible threads of financial crime, one graph at a time.*

<br/>

[![RIFT-26](https://img.shields.io/badge/ğŸ†_RIFT--26-Hackathon_Submission-gold?style=for-the-badge)](https://github.com/Pranavrh53/Money_Mauling-RIFT-26)
[![Python](https://img.shields.io/badge/Python-3.8+-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://python.org)
[![React](https://img.shields.io/badge/React-18-61DAFB?style=for-the-badge&logo=react&logoColor=black)](https://reactjs.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-009688?style=for-the-badge&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com)

<br/>

> **ğŸ” What if you could see money laundering as it happens â€” as a living, breathing network of criminal connections?**
>
> That's exactly what **Graphora** does. We transform raw transaction data into a directed financial graph and expose the hidden rings, shells, and smurfing networks that rule-based systems can't see.

<br/>

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’° ACC_001 â”€â”€$5,000â”€â”€â–º ACC_002 â”€â”€$4,800â”€â”€â–º ACC_003      â”‚
â”‚       â–²                                         â”‚        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ $4,600 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                          â”‚
â”‚    âš ï¸  CIRCULAR FUND ROUTING DETECTED â€” RING_001         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</div>

---

## ğŸ“– Table of Contents

| # | Section | Description |
|:-:|---------|-------------|
| 1 | [ğŸ¯ The Problem](#-the-problem) | Why traditional fraud detection fails |
| 2 | [ğŸ’¡ Our Solution](#-our-solution) | Graph theory meets financial crime |
| 3 | [ğŸ—ï¸ Architecture](#-architecture) | Full system blueprint |
| 4 | [ğŸ”¬ Algorithms](#-algorithm-deep-dive) | The math behind the magic |
| 5 | [ğŸ“Š Suspicion Scoring](#-suspicion-score-methodology) | How accounts get flagged |
| 6 | [ğŸ›¡ï¸ False Positive Control](#-false-positive-control) | Why merchants don't get flagged |
| 7 | [âš¡ Performance](#-performance-benchmarks) | Speed & accuracy benchmarks |
| 8 | [ğŸš€ Quick Start](#-quick-start) | Get running in 60 seconds |
| 9 | [ğŸ§ª Tests & Validation](#-tests--validation) | Full test case breakdown |
| 10 | [ğŸ“ Project Structure](#-project-structure) | File-by-file guide |
| 11 | [ğŸ› ï¸ Tech Stack](#-tech-stack) | Tools that power the system |
| 12 | [âš ï¸ Known Limitations](#-known-limitations) | Honesty about trade-offs |

---

## ğŸ¯ The Problem

> *"Every year, $800 billion to $2 trillion is laundered globally. Only 1% is ever seized."*
> â€” United Nations Office on Drugs and Crime

**Money muling** is the lifeblood of modern financial crime. Criminals recruit networks of "mule" accounts to move illicit funds through layered transactions â€” making dirty money look clean by the time it reaches its destination.

The three stages of the crime:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                            â”‚
â”‚  STAGE 1: PLACEMENT      STAGE 2: LAYERING        STAGE 3: INTEGRATION    â”‚
â”‚                                                                            â”‚
â”‚  ğŸ’µ Dirty Money    â”€â”€â–º   ğŸ”„ Funds hop through  â”€â”€â–º  âœ… Clean Money        â”‚
â”‚  enters through          intermediary shells,        exits to criminal's   â”‚
â”‚  many small deposits     cycles & chains             destination           â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**The fundamental limitation of traditional systems:** They analyse transactions one by one. But fraud lives *between* transactions â€” in the structural patterns of the network. A single transaction from ACC_001 to ACC_002 looks innocent. But when ACC_002 routes it to ACC_003, who routes it back to ACC_001? That's a laundering cycle â€” and it's invisible to per-transaction rules.

---

## ğŸ’¡ Our Solution

**Graphora** models the entire transaction universe as a **directed graph** â€” where accounts are nodes and transactions are edges â€” and uses advanced graph-theoretic algorithms to surface patterns that rule-based systems can never see.

| Pattern | What It Looks Like | What It Means |
|---------|-------------------|---------------|
| ğŸ”„ **Cycles** | `A â†’ B â†’ C â†’ A` | Circular routing to disguise money's origin |
| ğŸ•¸ï¸ **Fan-in (Smurfing)** | `Many â†’ One hub` | Multiple mules depositing into a collection account |
| ğŸ“¤ **Fan-out (Smurfing)** | `One hub â†’ Many` | Single source distributing to a mule network |
| ğŸš **Shell Chains** | `A â†’ B â†’ C â†’ D` | Layered pass-through via dormant shell accounts |

> **Result:** 100% precision, 100% recall on our benchmark dataset. Zero false positives on merchants and payroll.

---

## ğŸ—ï¸ Architecture

<details>
<summary><b>ğŸ–¥ï¸ Click to expand full system architecture</b></summary>

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        REACT FRONTEND  (Vite)                           â•‘
â•‘                                                                          â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚  CSV Upload â”‚  â”‚ Force Graph Viz â”‚  â”‚   Fraud    â”‚  â”‚  AI Chat   â”‚  â•‘
â•‘  â”‚  + Validate â”‚  â”‚  (NetworkXâ†’D3) â”‚  â”‚   Results  â”‚  â”‚    Bot     â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•
          â”‚   REST API      â”‚                  â”‚               â”‚
          â–¼                 â–¼                  â–¼               â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         FASTAPI BACKEND                                  â•‘
â•‘                                                                          â•‘
â•‘  POST /upload                                                            â•‘
â•‘    â””â”€â”€â–º CSV Validator (5-col check, type coercion, uniqueness)           â•‘
â•‘         â””â”€â”€â–º TransactionGraph (NetworkX DiGraph builder)                 â•‘
â•‘                                                                          â•‘
â•‘  POST /detect-fraud                                                      â•‘
â•‘    â””â”€â”€â–º FraudDetectionEngine                                             â•‘
â•‘           â”œâ”€â”€ detect_cycles()        â† Johnson's + nx.simple_cycles      â•‘
â•‘           â”œâ”€â”€ detect_smurfing()      â† Sliding 72h window                â•‘
â•‘           â”œâ”€â”€ detect_shell_chains()  â† BFS + temporal ordering           â•‘
â•‘           â”œâ”€â”€ whitelist_merchants()  â† Degree heuristic filter           â•‘
â•‘           â””â”€â”€ calculate_suspicion()  â† Weighted additive scoring         â•‘
â•‘                                                                          â•‘
â•‘    â””â”€â”€â–º RiskIntelligenceEngine (5-factor weighted model)                 â•‘
â•‘           â”œâ”€â”€ Degree Centrality      (20%)  PageRank + betweenness       â•‘
â•‘           â”œâ”€â”€ Transaction Velocity   (20%)  tx/hour, rapid ratio         â•‘
â•‘           â”œâ”€â”€ Cycle Involvement      (25%)  count Ã— cycle complexity     â•‘
â•‘           â”œâ”€â”€ Ring Density           (20%)  subgraph density metric      â•‘
â•‘           â””â”€â”€ Volume Anomalies       (15%)  Z-score, structuring signals â•‘
â•‘                                                                          â•‘
â•‘    â””â”€â”€â–º ResponseBuilder â†’ Deterministic, sorted JSON output              â•‘
â•‘                                                                          â•‘
â•‘  POST /chat â†’ FraudChatBot (context-aware NL query engine)               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Data Flow in 5 Steps

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CSV Upload  â”‚ â†’  â”‚ Graph Build â”‚ â†’  â”‚ Pattern Detection â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JSON Output â”‚ â†  â”‚  Risk Scoring  +  Whitelisting     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</details>

---

## ğŸ”¬ Algorithm Deep-Dive

### ğŸ”„ 1. Cycle Detection â€” Circular Fund Routing

> *"The oldest trick in the book â€” send money in a circle until it looks clean."*

**Algorithm:** Johnson's algorithm via `nx.simple_cycles()` with safety bounds

```python
def detect_cycles(G):
    cycles = []
    for cycle in nx.simple_cycles(G):       # Johnson's O((V+E)Â·C)
        if 3 <= len(cycle) <= 5:            # Criminally-relevant lengths only
            cycles.append(cycle)
        if len(cycles) >= 500: break        # Safety cap
        if elapsed_time > 5.0: break        # Time limit guard
    return cycles
```

**Why length 3â€“5?** Real-world laundering uses enough hops to obscure the trail but not so many that fees eat the profit. Lengths below 3 are too obvious; above 5 are rare and computationally expensive.

---

### ğŸ•¸ï¸ 2. Smurfing Detection â€” Fan-in / Fan-out

> *"One account. Hundreds of small deposits. One massive withdrawal. Classic."*

**Algorithm:** Sliding temporal window across sorted transactions

```python
def detect_smurfing(G, transactions):
    # Adaptive threshold scales with dataset size
    threshold = 5 if len(accounts) < 50 else (7 if len(accounts) < 200 else 10)

    for account in G.nodes():
        txns = sorted(get_transactions(account), key=lambda t: t.timestamp)

        # Slide a 72-hour window
        for txn in txns:
            window = [t for t in txns if 0 <= t.time - txn.time <= 72 * 3600]
            unique_counterparties = len(set(t.counterparty for t in window))

            if unique_counterparties >= threshold:
                flag_as_smurfing(account)
```

**Complexity:** O(n log n) â€” fast enough for 10K+ transactions.

---

### ğŸš 3. Shell Chain Detection â€” Layered Networks

> *"The money passed through 4 accounts in 48 hours. Each one existed for just this purpose."*

**Algorithm:** BFS with temporal ordering and degree constraints

```
For each source node:
  â†’ BFS traversal to build paths
  â†’ Intermediate nodes: total_degree â‰¤ 3   (shell account heuristic)
  â†’ Edge timestamps must be monotonically increasing
  â†’ Keep paths of length â‰¥ 3 hops
  â†’ Remove sub-paths already contained in longer chains
```

**The degree constraint is key:** Shell accounts have almost no other activity. A node with degree > 3 is a real active account â€” not a shell.

---

## ğŸ“Š Suspicion Score Methodology

Every account receives a **suspicion score from 0â€“100** built through a multi-layer model:

### Layer 1 â€” Base Pattern Score

| Pattern Detected    | Points | Rationale                                 |
|---------------------|-------:|-------------------------------------------|
| ğŸ”„ Cycle member     |  +40   | Direct involvement in circular routing    |
| ğŸ“¥ Fan-in hub       |  +30   | Receives from many sources                |
| ğŸ“¤ Fan-out hub      |  +30   | Sends to many targets                     |
| ğŸš Shell chain node |  +20   | Pass-through in layered chain             |

### Layer 2 â€” Velocity Multiplier

```
rapid_transactions = consecutive transactions < 24h apart

if rapid_count â‰¥ 2:
    multiplier = min(1 + rapid_count Ã— 0.1,  2.0)   â† HARD CAP at 2Ã—
    score      = base_score Ã— multiplier
```

### Layer 3 â€” Legitimacy Penalty

```
if activity_span > 7 days  AND  transaction_count < 20:
    score Ã—= 0.7    â†’  30% reduction for regular, spread-out activity
```

### Layer 4 â€” Whitelist Override

```
if account == MERCHANT  or  PAYROLL:
    score = 0,  risk_level = LOW          â† Full override, no analysis
```

### Risk Level Thresholds

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Score â‰¥ 70 â”‚ ğŸ”´  HIGH RISK â”‚
â”‚  Score â‰¥ 40 â”‚ ğŸŸ¡   MEDIUM   â”‚
â”‚  Score < 40 â”‚ ğŸŸ¢    LOW     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Advanced 5-Factor Risk Intelligence Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              COMPREHENSIVE RISK SCORE  (0 â€“ 100)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Factor                      â”‚ Weight â”‚ Source                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Degree Centrality           â”‚  20%   â”‚ PageRank + betweenness     â”‚
â”‚  Transaction Velocity        â”‚  20%   â”‚ tx/hr, rapid ratio         â”‚
â”‚  Cycle Involvement           â”‚  25%   â”‚ count Ã— cycle complexity   â”‚
â”‚  Ring Density                â”‚  20%   â”‚ subgraph connectivity      â”‚
â”‚  Volume Anomalies            â”‚  15%   â”‚ Z-score + structuring      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    CRITICAL â‰¥ 70  â”‚  HIGH â‰¥ 50  â”‚  MEDIUM â‰¥ 30  â”‚  LOW < 30       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›¡ï¸ False Positive Control

**Hard requirement: merchants and payroll accounts must NEVER be flagged.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MERCHANT DETECTION                                              â”‚
â”‚                                                                  â”‚
â”‚  in_degree  â‰¥ threshold                                          â”‚
â”‚  out_degree â‰¤ 2                                                  â”‚
â”‚  unique_senders â‰¥ threshold                                      â”‚
â”‚  â†’ WHITELISTED âœ…                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PAYROLL DETECTION                                               â”‚
â”‚                                                                  â”‚
â”‚  out_degree  â‰¥ threshold                                         â”‚
â”‚  in_degree   â‰¤ 2                                                 â”‚
â”‚  unique_receivers â‰¥ threshold                                    â”‚
â”‚  coefficient_of_variation(amounts) < 0.5                         â”‚
â”‚  â†’ WHITELISTED âœ…                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7-Layer Defense Against False Positives

| Layer | Mechanism             | Effect                                         |
|:-----:|-----------------------|------------------------------------------------|
| 1ï¸âƒ£   | Whitelisting          | Merchants/payroll scored to 0 before analysis  |
| 2ï¸âƒ£   | Smurfing exclusion    | Whitelisted accounts skip fan-in/fan-out        |
| 3ï¸âƒ£   | 72-hour time window   | Rejects coincidental long-term patterns         |
| 4ï¸âƒ£   | Adaptive thresholds   | Scale with dataset size (5 / 7 / 10)           |
| 5ï¸âƒ£   | Velocity cap          | 2.0Ã— maximum prevents score inflation           |
| 6ï¸âƒ£   | Spread penalty        | 30% reduction for regular, spaced-out activity |
| 7ï¸âƒ£   | Cycle length bounding | Length 3â€“5 with 5 s timeout                    |

### âœ… Verified Non-Flags on Reference Dataset

| Account      | Type     | Activity                        | Result         |
|--------------|----------|---------------------------------|----------------|
| ACC_200      | Merchant | 20 unique senders, 1 outgoing   | âœ… NOT flagged |
| ACC_300      | Payroll  | 18 unique receivers, 0 incoming | âœ… NOT flagged |
| NORM_001â€“008 | Normal   | Isolated 1:1 transactions       | âœ… NOT flagged |

---

## âš¡ Performance Benchmarks

Tested on `fraud_patterns_dataset.csv` â€” 90 transactions, 100 accounts:

| Metric               | Our Result | Requirement | Status          |
|----------------------|:----------:|:-----------:|:---------------:|
| â±ï¸ Processing Time   | **4.66 s** | â‰¤ 30 s      | âœ… 6.4Ã— faster  |
| ğŸ¯ Precision         | **100%**   | â‰¥ 70%       | âœ… Perfect      |
| ğŸ” Recall            | **100%**   | â‰¥ 60%       | âœ… Perfect      |
| ğŸš« False Positives   | **0**      | Must be 0   | âœ… Zero         |

### Per-Stage Complexity

| Stage                 | Time Complexity     | Notes                         |
|-----------------------|---------------------|-------------------------------|
| CSV Validation        | O(n)                | Linear scan                   |
| Graph Construction    | O(n)                | n = number of transactions    |
| Cycle Detection       | O((V+E)Â·C)          | Bounded: 5 s / 500 cycles max |
| Smurfing Detection    | O(n log n)          | Sort + sliding window         |
| Shell Chain Detection | O(VÂ·k)              | k = average node degree       |
| Scoring               | O(V + n)            | Linear                        |
| Risk Intelligence     | O(VÂ²)               | Centrality, one-time cost     |
| **Total**             | **O(n log n + VÂ²)** | Sub-5 s in practice           |

### Scalability Safeguards for 10K+ Transactions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Bottleneck                          â”‚  Mitigation                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  nx.simple_cycles() exponential      â”‚  5 s timeout + 500 cycle hard cap      â”‚
â”‚  Per-node DataFrame filtering        â”‚  Precomputed degree / count maps       â”‚
â”‚  Risk engine cycle recomputation     â”‚  Cached cycles passed from detector    â”‚
â”‚  Smurfing on small datasets          â”‚  Adaptive threshold (5 / 7 / 10)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Quick Start

### Prerequisites

```bash
python --version    # 3.8+
node   --version    # 16+
npm    --version    # 8+
```

### Install & Run

```bash
# 1. Clone
git clone https://github.com/Pranavrh53/Money_Mauling-RIFT-26.git
cd Money_Mauling-RIFT-26

# 2. Backend
pip install -r requirements.txt

# 3. Frontend
cd frontend && npm install && cd ..

# 4a. Windows â€” one command
start_all.bat

# 4b. Mac / Linux â€” two terminals
# Terminal 1:
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
# Terminal 2:
cd frontend && npm run dev
```

### Access Points

| Service          | URL                         | Purpose                  |
|------------------|-----------------------------|--------------------------|
| ğŸ–¥ï¸ Frontend UI   | http://localhost:3000        | Main dashboard           |
| âš™ï¸ Backend API   | http://localhost:8000        | REST endpoints           |
| ğŸ“š Swagger Docs  | http://localhost:8000/docs   | Interactive API explorer |

### Usage Flow

```
[1] Open http://localhost:3000
     â†“
[2] Upload  fraud_patterns_dataset.csv
     â†“
[3] Click  "Run Fraud Detection"
     â†“
[4] Explore results
     â”œâ”€â”€ ğŸ•¸ï¸  Graph Visualization  â€” suspicious nodes glow red
     â”œâ”€â”€ ğŸ“‹  Fraud Rings Table    â€” ring IDs, members, risk scores
     â”œâ”€â”€ ğŸ“Š  Results Summary      â€” detection stat cards
     â””â”€â”€ ğŸ†  Risk Rankings Panel
     â†“
[5] Download JSON results
     â†“
[6] Ask the AI Chatbot
     â†’  "Which accounts are in RING_001?"
     â†’  "What is the risk score for ACC_001?"
     â†’  "How many shell chains were detected?"
     â†“
[7] Toggle ğŸŒ™ dark mode (top-right)
```

---

## ğŸ§ª Tests & Validation

### Run the Full Suite

```bash
# Unit tests â€” cycle, fan-out, shell chain, combined
python -m pytest tests/test_detection.py -v

# Performance requirement validation
python test_performance.py

# Exact match against fraud_patterns_dataset.csv
python tests/test_exact_match.py

# API integration tests
python test_api.py

# Pattern detection suite
python test_pattern_detection.py
```

### Expected Detections on `fraud_patterns_dataset.csv`

#### ğŸ”„ Cycles Detected â€” 7 total

| Ring ID  | Chain                                                     | Pattern           |
|----------|-----------------------------------------------------------|-------------------|
| RING_001 | ACC_001 â†’ ACC_002 â†’ ACC_003 â†’ ACC_001                     | 3-node, â†“ amounts |
| RING_002 | ACC_010 â†’ ACC_011 â†’ ACC_012 â†’ ACC_013 â†’ ACC_010           | 4-node cycle      |
| RING_003 | ACC_020 â†’ ACC_021 â†’ ACC_022 â†’ ACC_023 â†’ ACC_024 â†’ ACC_020 | 5-node cycle      |
| RING_004 | ACC_030 â†’ ACC_031 â†’ ACC_032 â†’ ACC_030                     | 3-node cycle      |
| RING_005 | ACC_040 â†’ ACC_041 â†’ ACC_042 â†’ ACC_043 â†’ ACC_040           | 4-node cycle      |
| RING_006 | ACC_050 â†’ ACC_051 â†’ ACC_052 â†’ ACC_053 â†’ ACC_050           | 4-node cycle      |
| RING_007 | ACC_060 â†’ ACC_061 â†’ ACC_062 â†’ ACC_060                     | 3-node cycle      |

#### ğŸš Shell Chains Detected â€” 35 total (sample)

```
ACC_500 â†’ ACC_501 â†’ ACC_502 â†’ ACC_503
ACC_600 â†’ ACC_601 â†’ ACC_602 â†’ ACC_603 â†’ ACC_604
ACC_700 â†’ ACC_701 â†’ ACC_702 â†’ ACC_703 â†’ ACC_704 â†’ ACC_705
ACC_800 â†’ ACC_801 â†’ ACC_802 â†’ ACC_803
ACC_900 â†’ ACC_901 â†’ ACC_902 â†’ ACC_903 â†’ ACC_904 â†’ ACC_905
```

#### âœ… Detection Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Total accounts analyzed                 â”‚   100  â”‚
â”‚  Suspicious accounts flagged             â”‚    42  â”‚
â”‚  Fraud rings detected                    â”‚    42  â”‚
â”‚  False positives  (merchants)            â”‚     0  â”‚
â”‚  False positives  (payroll)              â”‚     0  â”‚
â”‚  False positives  (normal accounts)      â”‚     0  â”‚
â”‚  Processing time                         â”‚ 4.66 s â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“„ JSON Output Format

The `/download-results` endpoint returns fully deterministic JSON:

```json
{
  "suspicious_accounts": [
    {
      "account_id": "ACC_001",
      "suspicion_score": 56.0,
      "detected_patterns": ["cycle_length_3", "high_velocity"],
      "ring_id": "RING_001"
    }
  ],
  "fraud_rings": [
    {
      "ring_id": "RING_001",
      "member_accounts": ["ACC_001", "ACC_002", "ACC_003"],
      "pattern_type": "cycle",
      "risk_score": 56.0
    }
  ],
  "summary": {
    "total_accounts_analyzed": 100,
    "suspicious_accounts_flagged": 42,
    "fraud_rings_detected": 42,
    "processing_time_seconds": 4.66
  }
}
```

**Determinism Guarantees:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  suspicious_accounts  sorted by score DESC, then account_id ASC      â”‚
â”‚  ring IDs             sequential  â†’  RING_001, RING_002, ...         â”‚
â”‚  member_accounts      sorted alphabetically within each ring         â”‚
â”‚  detected_patterns    sorted alphabetically                          â”‚
â”‚  Same input           always produces identical output               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Project Structure

```
Graphora-RIFT-26/
â”‚
â”œâ”€â”€ ğŸ app/
â”‚   â”œâ”€â”€ main.py                  All API endpoints
â”‚   â”œâ”€â”€ detection.py             FraudDetectionEngine (cycles, smurfing, shells)
â”‚   â”œâ”€â”€ risk_engine.py           RiskIntelligenceEngine (5-factor model)
â”‚   â”œâ”€â”€ graph_builder.py         TransactionGraph (NetworkX wrapper)
â”‚   â”œâ”€â”€ response_builder.py      Deterministic JSON formatter
â”‚   â”œâ”€â”€ alert_engine.py          Real-time monitoring alerts
â”‚   â”œâ”€â”€ chatbot_engine.py        AI chatbot with fraud context
â”‚   â”œâ”€â”€ validators.py            CSV validation pipeline
â”‚   â””â”€â”€ models.py                Pydantic request/response models
â”‚
â”œâ”€â”€ âš›ï¸  frontend/src/
â”‚   â”œâ”€â”€ App.jsx                  Root app + light/dark theme toggle
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ GraphVisualization.jsx   Force-directed interactive graph
â”‚       â”œâ”€â”€ FraudRingsTable.jsx      Ring summary data table
â”‚       â”œâ”€â”€ ResultsSummary.jsx       Detection stats cards
â”‚       â”œâ”€â”€ RiskRankingPanel.jsx     Risk score leaderboard
â”‚       â””â”€â”€ ChatBot.jsx              AI assistant widget
â”‚
â”œâ”€â”€ ğŸ§ª tests/
â”‚   â”œâ”€â”€ test_detection.py        Unit tests for all detection patterns
â”‚   â””â”€â”€ test_exact_match.py      Exact-match validation against dataset
â”‚
â”œâ”€â”€ ğŸ“Š fraud_patterns_dataset.csv    Reference benchmark dataset
â”œâ”€â”€ ğŸ“„ FRAUD_DETECTION_DOCUMENTATION.md
â”œâ”€â”€ ğŸ“‹ SETUP_GUIDE.md
â”œâ”€â”€ ğŸ³ Dockerfile
â””â”€â”€ ğŸ“¦ requirements.txt
```

---

## ğŸ› ï¸ Tech Stack

| Layer           | Technology               | Why We Chose It                        |
|-----------------|--------------------------|----------------------------------------|
| ğŸ–¥ï¸ Frontend     | **React 18** + Vite      | Fast HMR, modern component model       |
| ğŸ“Š Graph Viz    | **react-force-graph-2d** | GPU-accelerated force-directed layout  |
| âš™ï¸ Backend      | **FastAPI** + Uvicorn    | Async, auto-documented, blazing fast   |
| ğŸ•¸ï¸ Graph Engine | **NetworkX**             | Industry-standard for graph algorithms |
| ğŸ”¢ Data         | **Pandas** + NumPy       | CSV parsing, temporal analysis         |
| âœ… Validation   | **Pydantic**             | Schema enforcement, type coercion      |
| ğŸ¤– AI Chatbot   | Custom NLP engine        | Context-aware fraud result querying    |
| ğŸ¨ Styling      | CSS3 custom properties   | Light / dark theme system              |
| ğŸ³ Container    | Docker                   | Portable, reproducible environment     |

---

## âš ï¸ Known Limitations

We believe in honesty about trade-offs. Here's what we'd improve in a production system:

| Limitation            | Current State               | Production Solution              |
|-----------------------|-----------------------------|----------------------------------|
| ğŸ’¾ Persistence        | In-memory only              | Redis or PostgreSQL              |
| ğŸ“‚ Ingestion          | Single CSV at a time        | Kafka + streaming pipeline       |
| ğŸ”„ Cycle scaling      | Exponential on dense graphs | Approximation algorithms         |
| ğŸ·ï¸ Whitelist          | Heuristic-based             | Manual KYC database              |
| ğŸ¤– Detection          | Rule-based only             | GNN-based anomaly detection      |
| â±ï¸ Real-time          | Static snapshot             | Flink / Spark streaming          |
| ğŸ’± Currency           | Single-currency only        | Exchange-rate normalization      |
| ğŸ“ Smurfing threshold | May need tuning             | Learned adaptive threshold       |

---

## ğŸ¥ Demo Walkthrough

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                      â”‚
â”‚  Step 1  Upload fraud_patterns_dataset.csv                           â”‚
â”‚          â†’ Dashboard shows 90 transactions across 100 accounts       â”‚
â”‚                                                                      â”‚
â”‚  Step 2  Click "Run Fraud Detection"                                 â”‚
â”‚          â†’ 4.66 s later: 42 suspicious accounts flagged              â”‚
â”‚                          7 cycles + 35 shell chains detected         â”‚
â”‚                                                                      â”‚
â”‚  Step 3  Graph Tab                                                   â”‚
â”‚          â†’ Force-directed network â€” suspicious nodes pulse red       â”‚
â”‚          â†’ Click any node for its full risk profile                  â”‚
â”‚                                                                      â”‚
â”‚  Step 4  Fraud Rings Table                                           â”‚
â”‚          â†’ Member IDs, pattern types, risk scores â€” sortable         â”‚
â”‚                                                                      â”‚
â”‚  Step 5  Download Results                                            â”‚
â”‚          â†’ JSON file in exact deterministic specification format     â”‚
â”‚                                                                      â”‚
â”‚  Step 6  Ask the AI Chatbot                                          â”‚
â”‚          â†’ "Which accounts are in RING_001?"                         â”‚
â”‚          â†’ "What's the risk score for ACC_001?"                      â”‚
â”‚          â†’ "How many shell chains were detected?"                    â”‚
â”‚                                                                      â”‚
â”‚  Step 7  Toggle ğŸŒ™ Dark Mode  (top-right corner)                    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

<div align="center">

### ğŸ† Built for RIFT-26 Hackathon

*Turning the invisible threads of financial crime into visible patterns.*

```
Version 4.0.0  â€¢  Team RIFT-26  â€¢  February 2026
```

*If this project helped you, consider giving it a â­ â€” it means a lot to the team!*

</div>
