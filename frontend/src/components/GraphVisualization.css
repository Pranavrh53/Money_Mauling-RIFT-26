/* ════════════════════════════════════════════════════════════════════════════
   PROFESSIONAL FINANCIAL NETWORK GRAPH - CSS
   Clean, analytical dashboard for fraud detection
   ════════════════════════════════════════════════════════════════════════════ */

/* ── Variables ─────────────────────────────────────────────────────────────── */
:root {
  --gv-bg: #0F172A;
  --gv-bg-panel: #1E293B;
  --gv-border: #334155;
  --gv-text: #E2E8F0;
  --gv-text-muted: #94A3B8;
  --gv-text-dim: #64748B;
  --gv-accent: #3B82F6;
  --gv-accent-hover: #60A5FA;
  --gv-danger: #EF4444;
  --gv-warning: #F59E0B;
  --gv-success: #10B981;
  --gv-radius: 8px;
  --gv-radius-lg: 12px;
}

/* ── Container ─────────────────────────────────────────────────────────────── */
.gv-container {
  background: var(--gv-bg);
  border-radius: var(--gv-radius-lg);
  border: 1px solid var(--gv-border);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 700px;
}

.gv-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
  color: var(--gv-text-muted);
}

.gv-empty-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.6;
}

.gv-empty p {
  font-size: 1rem;
  max-width: 300px;
}

/* ── Toolbar ───────────────────────────────────────────────────────────────── */
.gv-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  background: rgba(30, 41, 59, 0.6);
  border-bottom: 1px solid var(--gv-border);
  flex-wrap: wrap;
  gap: 1rem;
}

.gv-toolbar-left {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.gv-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--gv-text);
  margin: 0;
}

.gv-stats-bar {
  display: flex;
  gap: 1rem;
  font-size: 0.8125rem;
  color: var(--gv-text-muted);
}

.gv-stats-bar span {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.gv-stat-alert {
  color: var(--gv-danger) !important;
  font-weight: 500;
}

.gv-toolbar-right {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  flex-wrap: wrap;
}

/* ── Pattern Highlight Buttons ─────────────────────────────────────────────── */
.gv-pattern-buttons {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0;
  flex-wrap: wrap;
}

.gv-pattern-label {
  font-size: 0.75rem;
  color: var(--gv-text-dim);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-right: 0.25rem;
  white-space: nowrap;
}

.gv-pattern-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.4375rem 0.875rem;
  border-radius: 999px;
  font-size: 0.8125rem;
  font-weight: 600;
  cursor: pointer;
  border: 2px solid transparent;
  transition: all 0.2s ease;
  background: rgba(255,255,255,0.06);
  color: var(--gv-text-muted);
  white-space: nowrap;
}

.gv-pattern-btn:hover {
  background: rgba(255,255,255,0.12);
  color: var(--gv-text);
}

/* Cycle button */
.gv-pattern-cycle {
  border-color: rgba(168, 85, 247, 0.25);
}
.gv-pattern-cycle:hover {
  border-color: rgba(168, 85, 247, 0.5);
  background: rgba(168, 85, 247, 0.1);
  color: #C084FC;
}
.gv-pattern-cycle.active {
  border-color: #A855F7;
  background: rgba(168, 85, 247, 0.2);
  color: #E9D5FF;
  box-shadow: 0 0 12px rgba(168, 85, 247, 0.35), inset 0 0 8px rgba(168, 85, 247, 0.1);
}

/* Smurfing button */
.gv-pattern-smurfing {
  border-color: rgba(6, 182, 212, 0.25);
}
.gv-pattern-smurfing:hover {
  border-color: rgba(6, 182, 212, 0.5);
  background: rgba(6, 182, 212, 0.1);
  color: #67E8F9;
}
.gv-pattern-smurfing.active {
  border-color: #06B6D4;
  background: rgba(6, 182, 212, 0.2);
  color: #CFFAFE;
  box-shadow: 0 0 12px rgba(6, 182, 212, 0.35), inset 0 0 8px rgba(6, 182, 212, 0.1);
}

/* Shell Networks button */
.gv-pattern-shell {
  border-color: rgba(249, 115, 22, 0.25);
}
.gv-pattern-shell:hover {
  border-color: rgba(249, 115, 22, 0.5);
  background: rgba(249, 115, 22, 0.1);
  color: #FDBA74;
}
.gv-pattern-shell.active {
  border-color: #F97316;
  background: rgba(249, 115, 22, 0.2);
  color: #FED7AA;
  box-shadow: 0 0 12px rgba(249, 115, 22, 0.35), inset 0 0 8px rgba(249, 115, 22, 0.1);
}

/* Pattern node count badge */
.gv-pattern-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 1.25rem;
  height: 1.25rem;
  padding: 0 0.35rem;
  border-radius: 999px;
  font-size: 0.6875rem;
  font-weight: 700;
  background: rgba(255,255,255,0.15);
  line-height: 1;
}

.gv-pattern-cycle.active .gv-pattern-count {
  background: rgba(168, 85, 247, 0.4);
  color: #F3E8FF;
}
.gv-pattern-smurfing.active .gv-pattern-count {
  background: rgba(6, 182, 212, 0.4);
  color: #ECFEFF;
}
.gv-pattern-shell.active .gv-pattern-count {
  background: rgba(249, 115, 22, 0.4);
  color: #FFF7ED;
}

.gv-control-group {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.gv-control-group label {
  font-size: 0.75rem;
  color: var(--gv-text-dim);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.gv-btn-group {
  display: flex;
  gap: 2px;
}

.gv-btn {
  padding: 0.375rem 0.75rem;
  font-size: 0.8125rem;
  font-weight: 500;
  color: var(--gv-text-muted);
  background: transparent;
  border: 1px solid var(--gv-border);
  border-radius: var(--gv-radius);
  cursor: pointer;
  transition: all 0.15s ease;
}

.gv-btn:hover {
  background: rgba(59, 130, 246, 0.1);
  border-color: var(--gv-accent);
  color: var(--gv-accent-hover);
}

.gv-btn.active {
  background: rgba(59, 130, 246, 0.15);
  border-color: var(--gv-accent);
  color: var(--gv-accent);
}

.gv-btn-fit {
  background: var(--gv-accent);
  border-color: var(--gv-accent);
  color: white;
}

.gv-btn-fit:hover {
  background: var(--gv-accent-hover);
  border-color: var(--gv-accent-hover);
  color: white;
}

/* ── Main Layout ───────────────────────────────────────────────────────────── */
.gv-main {
  display: flex;
  flex: 1;
  min-height: 0;
}

.gv-graph-area {
  flex: 1;
  position: relative;
  min-width: 0;
  background: var(--gv-bg);
}

.gv-graph-area canvas {
  display: block;
}

/* ── Tooltip ───────────────────────────────────────────────────────────────── */
.gv-tooltip {
  position: absolute;
  z-index: 100;
  background: rgba(30, 41, 59, 0.95);
  border: 1px solid var(--gv-border);
  border-radius: var(--gv-radius);
  padding: 0.75rem;
  min-width: 180px;
  max-width: 240px;
  pointer-events: none;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(8px);
}

.gv-tt-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--gv-border);
}

.gv-tt-id {
  font-weight: 600;
  color: var(--gv-text);
  font-size: 0.875rem;
}

.gv-tt-badge {
  font-size: 0.625rem;
  font-weight: 600;
  padding: 0.125rem 0.375rem;
  border-radius: 4px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.gv-tt-badge.low {
  background: rgba(59, 130, 246, 0.2);
  color: #60A5FA;
}

.gv-tt-badge.medium {
  background: rgba(245, 158, 11, 0.2);
  color: #FBBF24;
}

.gv-tt-badge.high {
  background: rgba(239, 68, 68, 0.2);
  color: #F87171;
}

.gv-tt-body {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.gv-tt-row {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
}

.gv-tt-row span:first-child {
  color: var(--gv-text-muted);
}

.gv-tt-row span:last-child {
  color: var(--gv-text);
  font-weight: 500;
}

.gv-tt-score {
  color: var(--gv-danger) !important;
}

/* ── Edge Tooltip ──────────────────────────────────────────────────────────── */
.gv-edge-tooltip {
  position: fixed;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 100;
  background: rgba(30, 41, 59, 0.95);
  border: 1px solid var(--gv-border);
  border-radius: var(--gv-radius);
  padding: 0.75rem 1rem;
  display: flex;
  gap: 1.5rem;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(8px);
}

.gv-ett-row {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.125rem;
}

.gv-ett-row span:first-child {
  font-size: 0.625rem;
  color: var(--gv-text-dim);
  text-transform: uppercase;
}

.gv-ett-row span:last-child {
  font-size: 0.8125rem;
  color: var(--gv-text);
  font-weight: 500;
}

/* ── Legend ────────────────────────────────────────────────────────────────── */
.gv-legend {
  position: absolute;
  bottom: 1rem;
  left: 1rem;
  background: rgba(15, 23, 42, 0.85);
  border: 1px solid var(--gv-border);
  border-radius: var(--gv-radius);
  padding: 0.75rem 1rem;
  backdrop-filter: blur(8px);
}

.gv-legend-title {
  font-size: 0.6875rem;
  font-weight: 600;
  color: var(--gv-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.5rem;
}

.gv-legend-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--gv-text-muted);
  padding: 0.125rem 0;
}

.gv-legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

.gv-legend-line {
  width: 20px;
  height: 3px;
  border-radius: 2px;
}

.gv-legend-sep {
  height: 1px;
  background: var(--gv-border);
  margin: 0.5rem 0;
}

/* ── Side Panel ────────────────────────────────────────────────────────────── */
.gv-panel {
  width: 320px;
  background: var(--gv-bg-panel);
  border-left: 1px solid var(--gv-border);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}

.gv-panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  border-bottom: 1px solid var(--gv-border);
}

.gv-panel-header h3 {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--gv-text);
  margin: 0;
}

.gv-panel-close {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: var(--gv-text-muted);
  font-size: 1.25rem;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.15s;
}

.gv-panel-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--gv-text);
}

.gv-panel-section {
  padding: 1rem 1.25rem;
  border-bottom: 1px solid var(--gv-border);
}

.gv-panel-section h4 {
  font-size: 0.6875rem;
  font-weight: 600;
  color: var(--gv-text-dim);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 0.75rem 0;
}

.gv-account-id {
  font-size: 1rem;
  font-weight: 600;
  color: var(--gv-text);
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  margin-bottom: 0.75rem;
}

.gv-risk-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem 0.75rem;
  border-radius: var(--gv-radius);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.gv-risk-badge.low {
  background: rgba(59, 130, 246, 0.15);
  color: #60A5FA;
}

.gv-risk-badge.medium {
  background: rgba(245, 158, 11, 0.15);
  color: #FBBF24;
}

.gv-risk-badge.high {
  background: rgba(239, 68, 68, 0.15);
  color: #F87171;
}

.gv-risk-score {
  font-size: 0.875rem;
  font-weight: 700;
}

/* Panel Stats */
.gv-panel-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.75rem;
}

.gv-panel-stat {
  text-align: center;
  padding: 0.75rem 0.5rem;
  background: rgba(255, 255, 255, 0.03);
  border-radius: var(--gv-radius);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.gv-panel-stat-value {
  display: block;
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--gv-text);
}

.gv-panel-stat-label {
  display: block;
  font-size: 0.6875rem;
  color: var(--gv-text-dim);
  text-transform: uppercase;
  margin-top: 0.25rem;
}

/* Panel Details */
.gv-panel-detail {
  display: flex;
  justify-content: space-between;
  padding: 0.5rem 0;
  font-size: 0.8125rem;
}

.gv-panel-detail span:first-child {
  color: var(--gv-text-muted);
}

.gv-panel-detail span:last-child {
  color: var(--gv-text);
  font-weight: 500;
}

.gv-panel-detail .positive {
  color: var(--gv-success);
}

.gv-panel-detail .negative {
  color: var(--gv-danger);
}

/* Patterns */
.gv-pattern-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.gv-pattern-tag {
  font-size: 0.6875rem;
  padding: 0.25rem 0.5rem;
  background: rgba(239, 68, 68, 0.1);
  color: #F87171;
  border-radius: 4px;
  border: 1px solid rgba(239, 68, 68, 0.2);
}

/* Ring Badge */
.gv-ring-badge {
  display: inline-block;
  padding: 0.375rem 0.75rem;
  background: rgba(139, 92, 246, 0.15);
  color: #A78BFA;
  border-radius: var(--gv-radius);
  font-size: 0.8125rem;
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
}

/* Panel Hint */
.gv-panel-hint {
  padding: 0.75rem 1.25rem;
  font-size: 0.75rem;
  color: var(--gv-text-dim);
  text-align: center;
  font-style: italic;
}

/* Empty Panel */
.gv-panel-empty {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem 1.5rem;
  text-align: center;
}

.gv-panel-empty-icon {
  font-size: 2.5rem;
  margin-bottom: 1rem;
  opacity: 0.5;
}

.gv-panel-empty h4 {
  font-size: 1rem;
  font-weight: 600;
  color: var(--gv-text);
  margin: 0 0 0.5rem 0;
}

.gv-panel-empty p {
  font-size: 0.8125rem;
  color: var(--gv-text-muted);
  line-height: 1.5;
  margin: 0 0 1.5rem 0;
}

.gv-panel-tips {
  text-align: left;
  width: 100%;
}

.gv-tip {
  font-size: 0.75rem;
  color: var(--gv-text-dim);
  padding: 0.25rem 0;
}

/* Panel Footer */
.gv-panel-footer {
  margin-top: auto;
  padding: 1rem 1.25rem;
  background: rgba(0, 0, 0, 0.2);
  border-top: 1px solid var(--gv-border);
}

.gv-summary-stat {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.375rem 0;
}

.gv-summary-label {
  font-size: 0.75rem;
  color: var(--gv-text-muted);
}

.gv-summary-value {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--gv-text);
}

.gv-summary-value.gv-alert {
  color: var(--gv-danger);
}

/* ── Footer ────────────────────────────────────────────────────────────────── */
.gv-footer {
  padding: 0.625rem 1.25rem;
  background: rgba(30, 41, 59, 0.4);
  border-top: 1px solid var(--gv-border);
  text-align: center;
  font-size: 0.75rem;
  color: var(--gv-text-dim);
}

/* ── Responsive ────────────────────────────────────────────────────────────── */
@media (max-width: 1024px) {
  .gv-main {
    flex-direction: column;
  }
  
  .gv-panel {
    width: 100%;
    max-height: 400px;
    border-left: none;
    border-top: 1px solid var(--gv-border);
  }
  
  .gv-toolbar {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .gv-toolbar-right {
    width: 100%;
    justify-content: flex-start;
  }
}

@media (max-width: 640px) {
  .gv-control-group label {
    display: none;
  }
  
  .gv-legend {
    display: none;
  }
  
  .gv-panel-stats {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ── Animations ────────────────────────────────────────────────────────────── */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.gv-tooltip,
.gv-edge-tooltip {
  animation: fadeIn 0.15s ease;
}

/* ── Scrollbar ─────────────────────────────────────────────────────────────── */
.gv-panel::-webkit-scrollbar {
  width: 6px;
}

.gv-panel::-webkit-scrollbar-track {
  background: transparent;
}

.gv-panel::-webkit-scrollbar-thumb {
  background: var(--gv-border);
  border-radius: 3px;
}

.gv-panel::-webkit-scrollbar-thumb:hover {
  background: var(--gv-text-dim);
}
